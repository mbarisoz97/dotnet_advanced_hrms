@attribute [Route($"{EmployeeRouting.Update}/{{id:guid}}")]
@attribute [Authorize]
@rendermode @(new InteractiveServerRenderMode(prerender: false))

@inject IEmployeeServiceClient EmployeeService
@inject NavigationManager NavigationManager

<EmployeeForm IsEditMode="true" EmployeeId="@Id" OnValidSubmit="UpdateEmployeeInfo" />

@code {
    [Parameter]
    public Guid Id { get; set; }

    private async Task UpdateEmployeeInfo(EmployeeModel employee)
    {
        employee.Id = Id;
        await EmployeeService.UpdateEmployeeAsync(employee);

        NavigationManager.NavigateTo(EmployeeRouting.Index);
    }
}